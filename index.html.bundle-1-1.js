montageDefine("46b7068","core/range-controller",{dependencies:["./core","collections/generic-collection","collections/listen/array-changes","core/deprecate","./core","./core"],factory:function(e,t,n){var i=e("./core").Montage,o=e("collections/generic-collection"),s=e("collections/listen/array-changes").observableArrayProperties,a=e("core/deprecate"),l=Object.freeze([]),r=function(e,t){var n=e;return n.__proto__=r.prototype,n.rangeController=t,n.contentEquals=e&&e.contentEquals||Object.is,n};r.prototype=Object.create(Array.prototype,s),Object.defineProperty(r.prototype,"clone",{value:function(){return this.slice()}}),self.swap,Object.defineProperty(r.prototype,"oldSwap",{configurable:!1,value:s.swap.value}),Object.defineProperty(r.prototype,"swap",{configurable:!1,value:function(e,t,n){return this.swap_or_push(e,t,n)}}),r.prototype.oldPush=s.push.value,Object.defineProperty(r.prototype,"push",{configurable:!1,value:function(){for(var e=-1,t=arguments.length,n=Array(t);++e<t;)n[e]=arguments[e];this.swap_or_push(this.length,0,n)}}),Object.defineProperty(r.prototype,"swap_or_push",{configurable:!1,value:function(e,t,n){var i=this.rangeController.content;this.contentEquals=i&&i.contentEquals||Object.is,e=e>=0?e:this.length+e;var o=this.length,s=Math.min(t,o-e);if(n){n.contentEquals=this.contentEquals;var a=n.filter(function(t,o){if(i&&!i.has(t))return!1;if(n.findLast(t)>o)return!1;var a=this.find(t);return a<0||a>=e&&a<e+s},this)}else a=l;var r;r=0===s?l:Array.prototype.slice.call(this,e,e+s);var c=a.length-r.length,h=Math.max(this.length+c,e+a.length);if(!this.rangeController.allowsMultipleSelection&&h>1){var u=a.length?a[a.length-1]:this.one();return 0===o?(this.oldPush(u),l):this.oldSwap(0,o,[u])}return this.rangeController.avoidsEmptySelection&&0===h?i.has(this[0])?this.length-1===0?l:this.oldSwap(1,this.length-1):0===this.length?(this.oldPush(i.one()),l):this.oldSwap(0,this.length,[i.one()]):this.oldSwap(e,t,a)}}),t.RangeController=i.specialize({constructor:{value:function(e){this.content=null,this._selection=new r([],this),this.sortPath=null,this.filterPath=null,this.reversed=!1,this.selectAddedContent=!1,this.deselectInvisibleContent=!1,this.clearSelectionOnOrderChange=!1,this.avoidsEmptySelection=!1,this.organizedContent=[],this.organizedContent.addRangeChangeListener(this,"organizedContent"),this.defineBinding("_filteredContent",{"<-":"$filterPath.defined() ? content.filter{path($filterPath)} : content"}),this.defineBinding("_sortedContent",{"<-":"$sortPath.defined() ? _filteredContent.sorted{path($sortPath)} : _filteredContent"}),this.defineBinding("organizedContent.rangeContent()",{"<-":"$reversed ?? 0 ? _sortedContent.reversed() : _sortedContent"}),this.addRangeAtPathChangeListener("content",this,"handleContentRangeChange"),this.addPathChangeListener("sortPath",this,"handleOrderChange"),this.addPathChangeListener("reversed",this,"handleOrderChange"),this.addOwnPropertyChangeListener("allowsMultipleSelection",this),this.iterations=[],e&&this.initWithContent(e)}},initWithContent:{value:function(e){return this.content=e,this}},sortPath:{value:null},reversed:{value:null},filterPath:{value:null},selectAddedContent:{value:!1},deselectInvisibleContent:{value:!1},clearSelectionOnOrderChange:{value:!1},avoidsEmptySelection:{value:!1},allowsMultipleSelection:{value:!1},multiSelect:{set:function(e){a.deprecationWarning("multiSelect","allowsMultipleSelection"),this.allowsMultipleSelection=!!e},get:function(){return a.deprecationWarning("multiSelect","allowsMultipleSelection"),this.allowsMultipleSelection}},organizedContent:{value:null},iterations:{value:null},_selection:{value:null},selection:{get:function(){return this._selection},set:function(e){var t=[0,this._selection.length];e&&e.toArray&&(t=t.concat(e.toArray())),this._selection.splice.apply(this._selection,t)}},select:{value:function(e){!this.allowsMultipleSelection&&this.selection.length>=1&&this.selection.clear(),this.selection.add(e)}},deselect:{value:function(e){(!this.avoidsEmptySelection||this.selection.length>1)&&this.selection["delete"](e)}},clearSelection:{value:function(){(!this.avoidsEmptySelection||this.selection.length>1)&&this.selection.clear()}},add:{value:function(e){var t;return this.content||(this.content=[]),t=this.content.add(e),t&&this.handleAdd(e),t}},push:{value:function(){for(var e=this.content.push.apply(this.content,arguments),t=0;t<arguments.length;t++)this.handleAdd(arguments[t]);return e}},pop:{value:function(){return this.content.pop()}},shift:{value:function(){return this.content.shift()}},unshift:{value:function(){for(var e=this.content.unshift.apply(this.content,arguments),t=0;t<arguments.length;t++)this.handleAdd(arguments[t]);return e}},splice:{value:function(){for(var e=this.content.splice.apply(this.content,arguments),t=2;t<arguments.length;t++)this.handleAdd(arguments[t]);return e}},swap:{value:function(e,t,n){var i=this.content.swap.apply(this.content,arguments);if(n)for(var e=2;e<n.length;e++)this.handleAdd(n[e]);return i}},"delete":{value:function(e){return this.content["delete"](e)}},has:{value:function(e){return!!this.content&&this.content.has(e)}},addEach:{value:o.prototype.addEach},deleteEach:{value:o.prototype.deleteEach},clear:{value:function(){this.content.clear()}},addContent:{value:function(){var e=new this.contentConstructor;return this.add(e),e}},_contentConstructor:{value:null},contentConstructor:{get:function(){return this._contentConstructor?this._contentConstructor:this.content&&this.content.contentConstructor?this.content.contentConstructor:Object},set:function(e){this._contentConstructor=e}},handleContentRangeChange:{value:function(e,t,n){if(this.selection.length>0){var i=this.content&&this.content.contentEquals||Object.is;t.deleteEach(e,i),this.selection.length&&(this.selection.deleteEach(t),0===this.selection.length&&this.content&&this.content.length&&this.avoidsEmptySelection&&!this.allowsMultipleSelection&&this.selection.add(this.content[this.content.length-1]))}}},handleSelectionRangeChange:{value:function(e,t,n){if(this.selection)if(this.content){for(var i=[],o=0;o<e.length;o++)this.content.has(e[o])||i.push(e[o]);if(this._selection.deleteEach(i),!this.allowsMultipleSelection&&this._selection.length>1){var s=this._selection.pop();this._selection.clear(),this._selection.add(s)}this.avoidsEmptySelection&&0==this._selection.length&&this._selection.add(t[0])}else this._selection.clear()}},handleOrganizedContentRangeChange:{value:function(e,t,n){if(this.deselectInvisibleContent&&this.selection){var i=t.clone(1);i.deleteEach(e),this.selection.deleteEach(t)}}},handleOrderChange:{value:function(){this.clearSelectionOnOrderChange&&this.selection&&this.selection.clear()}},handleAdd:{value:function(e){this.selectAddedContent&&this.selection&&(!this.allowsMultipleSelection&&this.selection.length?this.selection.swap(0,this.selection.length,[e]):this.selection.add(e))}},handleAllowsMultipleSelectionChange:{value:function(){if(this.selection){var e=this.selection.length;if(!this.allowsMultipleSelection&&e>1){var t=this._selection.pop();this._selection.clear(),this._selection.add(t)}}}}},{blueprintModuleId:e("./core")._blueprintModuleIdDescriptor,blueprint:e("./core")._blueprintDescriptor})}}),montageDefine("46b7068","ui/base/abstract-radio-button",{dependencies:["./abstract-control","../../composer/press-composer","../../composer/key-composer"],factory:function(e,t,n){var i=e("./abstract-control").AbstractControl,o=e("../../composer/press-composer").PressComposer,s=e("../../composer/key-composer").KeyComposer,a="montage--disabled",l="montage--active",r="montage-RadioButton--checked";t.AbstractRadioButton=i.specialize({constructor:{value:function c(){if(this.constructor===c)throw new Error("AbstractRadioButton cannot be instantiated.")}},_active:{value:!1},active:{set:function(e){e=!!e,this._active!==e&&(this._active=e,e?this.classList.add(this.activeClass):this.classList.remove(this.activeClass))},get:function(){return this._active}},_checked:{value:null},checked:{set:function(e){e=!!e,this._checked!==e&&(this._checked=e,e?this.classList.add(this.checkedClass):this.classList.remove(this.checkedClass))},get:function(){return this._checked}},_disabledClass:{value:null},disabledClass:{set:function(e){var t=this.disabledClass;e&&"string"==typeof e&&t!==e&&(this._swapClassNameIfNeeded(t,e),this._disabledClass=e)},get:function(){return this._disabledClass||a}},_activeClass:{value:null},activeClass:{set:function(e){var t=this.activeClass;e&&"string"==typeof e&&t!==e&&(this._swapClassNameIfNeeded(t,e),this._activeClass=e)},get:function(){return this._activeClass||l}},_checkedClass:{value:null},checkedClass:{set:function(e){var t=this.checkedClass;e&&"string"==typeof e&&t!==e&&(this._swapClassNameIfNeeded(t,e),this._checkedClass=e)},get:function(){return this._checkedClass||r}},_swapClassNameIfNeeded:{value:function(e,t){e&&t&&this.classList.has(e)&&(this.classList.remove(e),this.classList.add(t))}},_enabled:{value:!0},enabled:{set:function(e){e=!!e,this._enabled!==e&&(this._enabled=e,e?this.classList.remove(this.disabledClass):this.classList.add(this.disabledClass))},get:function(){return this._enabled}},__keyComposer:{value:null},_keyComposer:{get:function(){return this.__keyComposer||(this.__keyComposer=new s,this.__keyComposer.keys="space",this.addComposer(this.__keyComposer)),this.__keyComposer}},_radioButtonController:{value:null},radioButtonController:{set:function(e){this._radioButtonController&&this._radioButtonController.unregisterRadioButton(this),this._radioButtonController=e,e.registerRadioButton(this)},get:function(){return this._radioButtonController}},__pressComposer:{value:null},_pressComposer:{get:function(){return this.__pressComposer||(this.__pressComposer=new o,this.addComposer(this.__pressComposer)),this.__pressComposer}},enterDocument:{value:function(e){e&&this.element.setAttribute("role","radio")}},draw:{value:function(){this.checked?this.element.setAttribute("aria-checked","true"):this.element.setAttribute("aria-checked","false")}},handlePressStart:{value:function(e){this.active=!0,e.touch&&document.addEventListener("touchmove",this,!1)}},check:{value:function(){this.enabled&&!this.checked&&(this.dispatchActionEvent(),this.checked=!0)}},handlePress:{value:function(){this.active=!1,this.check()}},handlePressCancel:{value:function(){this.active=!1,document.removeEventListener("touchmove",this,!1)}},handleKeyPress:{value:function(){this.active=!0}},handleKeyRelease:{value:function(){this.active=!1,this.check()}},prepareForActivationEvents:{value:function(){this._keyComposer.addEventListener("keyPress",this,!1),this._keyComposer.addEventListener("keyRelease",this,!1),this._pressComposer.addEventListener("pressStart",this,!1),this._pressComposer.addEventListener("press",this,!1),this._pressComposer.addEventListener("pressCancel",this,!1)}},activate:{value:function(){this.check()}}})}}),montageDefine("99ff7d6","ui/text-input",{dependencies:["ui/native-control"],factory:function(e,t,n){var i=e("ui/native-control").NativeControl,o=t.TextInput=i.specialize({_hasFocus:{enumerable:!1,value:!1},_value:{enumerable:!1,value:null},_valueSyncedWithInputField:{enumerable:!1,value:!1},value:{get:function(){return this._value},set:function(e,t){if(e!==this._value){if(this.converter){var n;try{n=this.converter.revert(e),this.error=null,this._value=n}catch(i){this._value=e,this.error=i}}else this._value=e;t?this._valueSyncedWithInputField=!0:(this._valueSyncedWithInputField=!1,this.needsDraw=!0)}}},_setValue:{value:function(){var e=this.element.value;Object.getPropertyDescriptor(this,"value").set.call(this,e,!0)}},converter:{value:null},_error:{value:null},error:{get:function(){return this._error},set:function(e){this._error=e,this.errorMessage=this._error?this._error.message:null,this.needsDraw=!0}},_errorMessage:{value:null},errorMessage:{get:function(){return this._errorMessage},set:function(e){this._errorMessage=e}},_updateOnInput:{value:!0},updateOnInput:{get:function(){return!!this._updateOnInput},set:function(e){this._updateOnInput=e}},blur:{value:function(){this._element.blur()}},focus:{value:function(){this._element.focus()}},enterDocument:{value:function(e){if(e){var t=this.element;t.addEventListener("focus",this),t.addEventListener("input",this),t.addEventListener("change",this),t.addEventListener("blur",this)}}},_setElementValue:{value:function(e){this.element.value=null==e?"":e}},draw:{enumerable:!1,value:function(){this["super"]();var e=this.element;this._valueSyncedWithInputField||this._setElementValue(this.converter?this.converter.convert(this._value):this._value),this.error?(e.classList.add("montage--invalidText"),e.title=this.error.message||""):(e.classList.remove("montage--invalidText"),e.title="")}},didDraw:{enumerable:!1,value:function(){if(this._hasFocus&&null!=this._value){var e=this._value.toString().length;this.element.setSelectionRange(e,e)}this.needsDraw||(this._valueSyncedWithInputField=!0)}},handleInput:{enumerable:!1,value:function(){this.converter?this.converter.allowPartialConversion===!0&&this.updateOnInput===!0&&this._setValue():this._setValue()}},handleChange:{enumerable:!1,value:function(e){this._setValue(),this._hasFocus=!1}},handleBlur:{enumerable:!1,value:function(e){this._hasFocus=!1}},handleFocus:{enumerable:!1,value:function(e){this._hasFocus=!0}}});o.addAttributes({accept:null,alt:null,autocomplete:null,autofocus:{dataType:"boolean"},checked:{dataType:"boolean"},dirname:null,disabled:{dataType:"boolean"},form:null,formaction:null,formenctype:null,formmethod:null,formnovalidate:{dataType:"boolean"},formtarget:null,height:null,list:null,maxlength:null,multiple:{dataType:"boolean"},name:null,pattern:null,placeholder:null,readonly:{dataType:"boolean"},required:{dataType:"boolean"},size:null,src:null,width:null})}}),montageDefine("aa0acb4","package.json",{exports:{name:"matte",description:"Desktop-optimized MontageJS components for medium and large screen.",version:"0.3.2",license:"BSD-3-Clause",repository:{type:"git",url:"git+https://github.com/montagejs/matte.git"},dependencies:{montage:">=16.0.4","native":"^0.3.3"},devDependencies:{concurrently:"^3.4.0","http-server":"^0.9.0","jasmine-console-reporter":"^1.2.7","jasmine-core":"^2.5.2",karma:"^1.5.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.0.1","karma-jasmine":"^1.1.0","karma-phantomjs-launcher":"^1.0.2","montage-testing":"git://github.com/montagejs/montage-testing.git#master",open:"0.0.5"},scripts:{test:"node test/run-node.js","test:karma":"karma start --no-auto-watch --single-run","test:karma-dev":"karma start --auto-watch --no-single-run","test:jasmine":'concurrently "http-server -a localhost -p 8085" "open http://localhost:8085/test/run.html"',"start:overview":'concurrently "http-server -a localhost -p 8085" "open http://localhost:8085/overview/index.html"'},exclude:["overview","report","test"],gitHead:"9f41a61a22560059e3ac559837b2e3b761e71432",bugs:{url:"https://github.com/montagejs/matte/issues"},homepage:"https://github.com/montagejs/matte#readme",_id:"matte@0.3.2",_shasum:"9d07735b9cdae9ce60187726f3aabb9cc9f3231f",_from:"matte@>=0.3.0 <0.4.0",_npmVersion:"2.15.11",_nodeVersion:"4.8.0",_npmUser:{name:"hthetiot",email:"hthetiot@gmail.com"},dist:{shasum:"9d07735b9cdae9ce60187726f3aabb9cc9f3231f",tarball:"https://registry.npmjs.org/matte/-/matte-0.3.2.tgz"},maintainers:[{name:"francoisfrisch",email:"francoisfrisch@gmail.com"},{name:"hthetiot",email:"hthetiot@gmail.com"},{name:"marchant",email:"benoit@montagestudio.com"},{name:"montage-bot",email:"francoisfrisch@gmail.com"}],_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/matte-0.3.2.tgz_1496773305276_0.732210835441947"},directories:{},_resolved:"https://registry.npmjs.org/matte/-/matte-0.3.2.tgz",main:"index",hash:"aa0acb4",mappings:{montage:{name:"montage",hash:"46b7068",location:"../montage@46b7068/"},"native":{name:"native",hash:"99ff7d6",location:"../native@99ff7d6/"}},production:!0,useScriptInjection:!0}}),montageDefine("46b7068","core/radio-button-controller",{dependencies:["./core","./range-controller","./core","./core"],factory:function(e,t,n){var i=e("./core").Montage,o=e("./range-controller").RangeController;t.RadioButtonController=i.specialize({_radioButtons:{value:null},_content:{value:null},content:{get:function(){return this.getPath("contentController.content")},set:function(e){this.contentController=(new o).initWithContent(e)}},contentController:{value:null},selectedRadioButton:{value:null},_value:{value:null},value:{set:function(e){this._value!==e&&(this._value=e,this._updateRadioButtons())},get:function(){return this._value}},constructor:{value:function(){this._radioButtons=[],this.addRangeAtPathChangeListener("_radioButtons.map{checked}",this,"handleRadioButtonChange"),this.defineBinding("value ",{"<->":"contentController.selection.0"})}},_updateRadioButtons:{value:function(){for(var e=this._value,t=0,n=this._radioButtons.length;t<n;t++)if(e===this._radioButtons[t].value){this._radioButtons[t].checked=!0;break}}},registerRadioButton:{value:function(e){this._radioButtons.indexOf(e)===-1&&(this._radioButtons.push(e),this._updateRadioButtons())}},unregisterRadioButton:{value:function(e){var t=this._radioButtons.indexOf(e);t>=0&&(this._radioButtons.splice(t,1),e===this.selectedRadioButton&&(this.selectedRadioButton=null))}},handleRadioButtonChange:{value:function(e,t,n){if(e[0]===!0)for(var i=0,o=this._radioButtons.length;i<o;i++)i===n?(this.selectedRadioButton=this._radioButtons[i],this.value=this.selectedRadioButton.value):this._radioButtons[i].checked=!1}}},{blueprintModuleId:e("./core")._blueprintModuleIdDescriptor,blueprint:e("./core")._blueprintDescriptor})}}),montageDefine("42551f5","ui/todo-view.reel/todo-view.html",{text:'<!DOCTYPE html><html><head><meta charset=utf-8><title>TodoView</title><script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"todoView"},"editInput":{"@":"editInput"}}},"todoTitle":{"prototype":"montage/ui/text.reel","properties":{"element":{"#":"todoTitle"}},"bindings":{"value":{"<-":"@owner.todo.title"}}},"todoCompletedCheckbox":{"prototype":"native/ui/input-checkbox.reel","properties":{"element":{"#":"todoCompletedCheckbox"}},"bindings":{"checked":{"<->":"@owner.todo.completed"}}},"destroyButton":{"prototype":"native/ui/button.reel","properties":{"element":{"#":"destroyButton"}},"listeners":[{"type":"action","listener":{"@":"owner"},"capture":true}]},"editInput":{"prototype":"native/ui/input-text.reel","properties":{"element":{"#":"edit-input"}},"bindings":{"value":{"<-":"@owner.todo.title"}}}}</script></head><body><li data-montage-id=todoView><div class=view><input data-montage-id=todoCompletedCheckbox class=toggle type=checkbox><label data-montage-id=todoTitle></label><button data-montage-id=destroyButton class=destroy></button></div><form data-montage-id=edit><input data-montage-id=edit-input class=edit value="Rule the web"></form></li></body></html>'}),montageDefine("99ff7d6","ui/input-checkbox.reel/input-checkbox",{dependencies:["ui/check-input"],factory:function(e,t,n){var i=e("ui/check-input").CheckInput,o=t.InputCheckbox=i.specialize({});o.addAttributes({autofocus:{value:!1,dataType:"boolean"},disabled:{value:!1,dataType:"boolean"},checked:{value:!1,dataType:"boolean"},form:null,name:null,readonly:{value:!1,dataType:"boolean"},title:null,value:{value:"on"}})}});
bundleLoaded("index.html.bundle-1-1.js")