function charSet(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function filter(t,e){return e=e||{},function(n,i,r){return minimatch(n,t,e)}}function ext(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function minimatch(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new Minimatch(e,n).match(t))}function Minimatch(t,e){if(!(this instanceof Minimatch))return new Minimatch(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==path.sep&&(t=t.split(path.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function make(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(t){return t.split(slashSplit)}),this.debug(this.pattern,n),n=n.map(function(t,e,n){return t.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(t){return t.indexOf(!1)===-1}),this.debug(this.pattern,n),this.set=n}}function parseNegate(){var t=this.pattern,e=!1,n=this.options,i=0;if(!n.nonegate){for(var r=0,a=t.length;r<a&&"!"===t.charAt(r);r++)e=!e,i++;i&&(this.pattern=t.substr(i)),this.negate=e}}function braceExpand(t,e){if(e||(e=this instanceof Minimatch?this.options:{}),t="undefined"==typeof t?this.pattern:t,"undefined"==typeof t)throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:expand(t)}function parse(t,e){function n(){if(r){switch(r){case"*":s+=star,h=!0;break;case"?":s+=qmark,h=!0;break;default:s+="\\"+r}g.debug("clearStateChar %j %j",r,s),r=!1}}if(t.length>65536)throw new TypeError("pattern is too long");var i=this.options;if(!i.noglobstar&&"**"===t)return GLOBSTAR;if(""===t)return"";for(var r,a,s="",h=!!i.nocase,c=!1,o=[],p=[],u=!1,f=-1,l=-1,m="."===t.charAt(0)?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=this,d=0,b=t.length;d<b&&(a=t.charAt(d));d++)if(this.debug("%s\t%s %s %j",t,d,s,a),c&&reSpecials[a])s+="\\"+a,c=!1;else switch(a){case"/":return!1;case"\\":n(),c=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,d,s,a),u){this.debug("  in class"),"!"===a&&d===l+1&&(a="^"),s+=a;continue}g.debug("call clearStateChar %j",r),n(),r=a,i.noext&&n();continue;case"(":if(u){s+="(";continue}if(!r){s+="\\(";continue}o.push({type:r,start:d-1,reStart:s.length,open:plTypes[r].open,close:plTypes[r].close}),s+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,s),r=!1;continue;case")":if(u||!o.length){s+="\\)";continue}n(),h=!0;var v=o.pop();s+=v.close,"!"===v.type&&p.push(v),v.reEnd=s.length;continue;case"|":if(u||!o.length||c){s+="\\|",c=!1;continue}n(),s+="|";continue;case"[":if(n(),u){s+="\\"+a;continue}u=!0,l=d,f=s.length,s+=a;continue;case"]":if(d===l+1||!u){s+="\\"+a,c=!1;continue}if(u){var y=t.substring(l+1,d);try{RegExp("["+y+"]")}catch(S){var w=this.parse(y,SUBPARSE);s=s.substr(0,f)+"\\["+w[0]+"\\]",h=h||w[1],u=!1;continue}}h=!0,u=!1,s+=a;continue;default:n(),c?c=!1:!reSpecials[a]||"^"===a&&u||(s+="\\"),s+=a}for(u&&(y=t.substr(l+1),w=this.parse(y,SUBPARSE),s=s.substr(0,f)+"\\["+w[0],h=h||w[1]),v=o.pop();v;v=o.pop()){var E=s.slice(v.reStart+v.open.length);this.debug("setting tail",s,v),E=E.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,n){return n||(n="\\"),e+e+n+"|"}),this.debug("tail=%j\n   %s",E,E,v,s);var x="*"===v.type?star:"?"===v.type?qmark:"\\"+v.type;h=!0,s=s.slice(0,v.reStart)+x+"\\("+E}n(),c&&(s+="\\\\");var M=!1;switch(s.charAt(0)){case".":case"[":case"(":M=!0}for(var R=p.length-1;R>-1;R--){var k=p[R],A=s.slice(0,k.reStart),O=s.slice(k.reStart,k.reEnd-8),j=s.slice(k.reEnd-8,k.reEnd),T=s.slice(k.reEnd);j+=T;var B=A.split("(").length-1,$=T;for(d=0;d<B;d++)$=$.replace(/\)[+*?]?/,"");T=$;var L="";""===T&&e!==SUBPARSE&&(L="$");var q=A+O+T+L+j;s=q}if(""!==s&&h&&(s="(?=.)"+s),M&&(s=m+s),e===SUBPARSE)return[s,h];if(!h)return globUnescape(t);var N=i.nocase?"i":"";try{var G=new RegExp("^"+s+"$",N)}catch(S){return new RegExp("$.")}return G._glob=t,G._src=s,G}function makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?star:e.dot?twoStarDot:twoStarNoDot,i=e.nocase?"i":"",r=t.map(function(t){return t.map(function(t){return t===GLOBSTAR?n:"string"==typeof t?regExpEscape(t):t._src}).join("\\/")}).join("|");r="^(?:"+r+")$",this.negate&&(r="^(?!"+r+").*$");try{this.regexp=new RegExp(r,i)}catch(a){this.regexp=!1}return this.regexp}function match(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==path.sep&&(t=t.split(path.sep).join("/")),t=t.split(slashSplit),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var r,a;for(a=t.length-1;a>=0&&!(r=t[a]);a--);for(a=0;a<i.length;a++){var s=i[a],h=t;n.matchBase&&1===s.length&&(h=[r]);var c=this.matchOne(h,s,e);if(c)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}function globUnescape(t){return t.replace(/\\(.)/g,"$1")}function regExpEscape(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}module.exports=minimatch,minimatch.Minimatch=Minimatch;var path={sep:"/"};try{path=require("path")}catch(er){}var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},expand=require("brace-expansion"),plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",reSpecials=charSet("().*{}+?[]^$\\!"),slashSplit=/\/+/;minimatch.filter=filter,minimatch.defaults=function(t){if(!t||!Object.keys(t).length)return minimatch;var e=minimatch,n=function(n,i,r){return e.minimatch(n,i,ext(t,r))};return n.Minimatch=function(n,i){return new e.Minimatch(n,ext(t,i))},n},Minimatch.defaults=function(t){return t&&Object.keys(t).length?minimatch.defaults(t).Minimatch:Minimatch},Minimatch.prototype.debug=function(){},Minimatch.prototype.make=make,Minimatch.prototype.parseNegate=parseNegate,minimatch.braceExpand=function(t,e){return braceExpand(t,e)},Minimatch.prototype.braceExpand=braceExpand,Minimatch.prototype.parse=parse;var SUBPARSE={};minimatch.makeRe=function(t,e){return new Minimatch(t,e||{}).makeRe()},Minimatch.prototype.makeRe=makeRe,minimatch.match=function(t,e,n){n=n||{};var i=new Minimatch(e,n);return t=t.filter(function(t){return i.match(t)}),i.options.nonull&&!t.length&&t.push(e),t},Minimatch.prototype.match=match,Minimatch.prototype.matchOne=function(t,e,n){var i=this.options;this.debug("matchOne",{"this":this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var r=0,a=0,s=t.length,h=e.length;r<s&&a<h;r++,a++){this.debug("matchOne loop");var c=e[a],o=t[r];if(this.debug(e,c,o),c===!1)return!1;if(c===GLOBSTAR){this.debug("GLOBSTAR",[e,c,o]);var p=r,u=a+1;if(u===h){for(this.debug("** at the end");r<s;r++)if("."===t[r]||".."===t[r]||!i.dot&&"."===t[r].charAt(0))return!1;return!0}for(;p<s;){var f=t[p];if(this.debug("\nglobstar while",t,p,e,u,f),this.matchOne(t.slice(p),e.slice(u),n))return this.debug("globstar found match!",p,s,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,p,e,u);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",t,p,e,u),p!==s))}var l;if("string"==typeof c?(l=i.nocase?o.toLowerCase()===c.toLowerCase():o===c,this.debug("string match",c,o,l)):(l=o.match(c),this.debug("pattern match",c,o,l)),!l)return!1}if(r===s&&a===h)return!0;if(r===s)return n;if(a===h){var m=r===s-1&&""===t[r];return m}throw new Error("wtf?")};