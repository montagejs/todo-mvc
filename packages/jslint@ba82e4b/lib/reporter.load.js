montageDefine("ba82e4b","lib/reporter",{dependencies:["./color"],factory:function(r,e,o){!function(){"use strict";var o=r("./color");e.logger={log:console.log.bind(console),err:process.stderr.write.bind(process.stderr)},e.setLogger=function(r){this.logger=r},e.makeReporter=function(r,o,n){return{logger:r,colorize:o,terse:n,report:function(r,o){return e.report.call(this,r,o,this.colorize,this.terse)}}},e.report=function(r,e,n,t){function i(r,e){return n?o[r](e):e}function c(r){return r.line+d}function l(r){return(r.character||r.column)+d}function s(r){return r.evidence||e.lines&&e.lines[r.line]||""}function u(r){return r.reason||r.message}var g,f,a,p,d=Number(e.option&&e.option.fudge)||0,h=this.logger;return p="\n"+i("bold",r),e.ok?t?h.err("."):h.log(p+" is "+i("green","OK")+"."):(a=e.errors,a=a.filter(function(r){return r}),t?a.forEach(function(e){h.log(r+":"+c(e)+":"+l(e)+": "+u(e))}):(h.log(p),a.forEach(function(r,e){for(f="#"+String(e+1);f.length<3;)f=" "+f;g=" // Line "+c(r)+", Pos "+l(r),h.log(f+" "+i("yellow",u(r))),h.log("    "+s(r).trim()+i("grey",g))}))),e.ok}}()}});