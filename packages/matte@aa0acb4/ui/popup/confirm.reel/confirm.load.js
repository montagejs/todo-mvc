montageDefine("aa0acb4","ui/popup/confirm.reel/confirm",{dependencies:["montage/ui/component","ui/popup/popup.reel"],factory:function(e,n,a){var l=e("montage/ui/component").Component,t=e("ui/popup/popup.reel").Popup,o=n.Confirm=l.specialize({hasTemplate:{value:!0},title:{value:"Confirm"},msg:{value:"Are you sure?"},okLabel:{value:"OK"},cancelLabel:{value:"Cancel"},_popup:{value:null},popup:{set:function(e){this._popup=e},get:function(){return this._popup}},okCallback:{value:null},cancelCallback:{value:null},enterDocument:{value:function(e){e&&this.element.addEventListener("keyup",this,!1)}},draw:{value:function(){}},handleKeyup:{value:function(e){13==e.keyCode?this.handleOkAction(e):27==e.keyCode&&this.handleCancelAction(e)}},handleOkAction:{value:function(e){this.okCallback&&this.okCallback.call(this,e);var n=document.createEvent("CustomEvent");n.initCustomEvent("montage_confirm_ok",!0,!0,null),this.dispatchEvent(n),this.popup.hide()}},handleCancelAction:{value:function(e){this.cancelCallback&&this.cancelCallback.call(this,e);var n=document.createEvent("CustomEvent");n.initCustomEvent("montage_confirm_cancel",!0,!0,null),this.dispatchEvent(n),this.popup.hide()}},show:{value:function(e,n,a){var l,c=this.application._confirmPopup;c||(c=new t,this.popup=c,c.type="confirm",c.title="Confirmation",c.modal=!0,this.application._confirmPopup=c,l=new o,c.content=l),l=c.content,"string"==typeof e?(l.msg=e,l.okLabel="OK",l.cancelLabel="Cancel"):(l.msg=e.message,l.okLabel=e.okLabel||"OK",l.cancelLabel=e.cancelLabel||"Cancel"),l.okCallback=n||null,l.cancelCallback=a||null,c.show()}}})}});