montageDefine("bf3c0ac","lib/stringify",{dependencies:["./utils","./formats"],factory:function(e,r,n){"use strict";var t=e("./utils"),o=e("./formats"),i={brackets:function(e){return e+"[]"},indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,l={delimiter:"&",encode:!0,encoder:t.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},f=function c(e,r,n,o,i,a,f,s,u,d,y,p){var v=e;if("function"==typeof f)v=f(r,v);else if(v instanceof Date)v=d(v);else if(null===v){if(o)return a&&!p?a(r,l.encoder):r;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||t.isBuffer(v)){if(a){var m=p?r:a(r,l.encoder);return[y(m)+"="+y(a(v,l.encoder))]}return[y(r)+"="+y(String(v))]}var b=[];if("undefined"==typeof v)return b;var g;if(Array.isArray(f))g=f;else{var D=Object.keys(v);g=s?D.sort(s):D}for(var O=0;O<g.length;++O){var k=g[O];i&&null===v[k]||(b=Array.isArray(v)?b.concat(c(v[k],n(r,k),n,o,i,a,f,s,u,d,y,p)):b.concat(c(v[k],r+(u?"."+k:"["+k+"]"),n,o,i,a,f,s,u,d,y,p)))}return b};n.exports=function(e,r){var n=e,a=r?t.assign({},r):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var c="undefined"==typeof a.delimiter?l.delimiter:a.delimiter,s="boolean"==typeof a.strictNullHandling?a.strictNullHandling:l.strictNullHandling,u="boolean"==typeof a.skipNulls?a.skipNulls:l.skipNulls,d="boolean"==typeof a.encode?a.encode:l.encode,y="function"==typeof a.encoder?a.encoder:l.encoder,p="function"==typeof a.sort?a.sort:null,v="undefined"!=typeof a.allowDots&&a.allowDots,m="function"==typeof a.serializeDate?a.serializeDate:l.serializeDate,b="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:l.encodeValuesOnly;if("undefined"==typeof a.format)a.format=o["default"];else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var g,D,O=o.formatters[a.format];"function"==typeof a.filter?(D=a.filter,n=D("",n)):Array.isArray(a.filter)&&(D=a.filter,g=D);var k=[];if("object"!=typeof n||null===n)return"";var w;w=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var N=i[w];g||(g=Object.keys(n)),p&&g.sort(p);for(var h=0;h<g.length;++h){var A=g[h];u&&null===n[A]||(k=k.concat(f(n[A],A,N,s,u,d?y:null,D,p,v,m,O,b)))}var j=k.join(c),z=a.addQueryPrefix===!0?"?":"";return j.length>0?z+j:""}}});