montageDefine("46b7068","core/meta/model",{dependencies:["../core","./model-group","./object-descriptor","../deprecate","../core","../core","../core","../core"],factory:function(e,t,r){var o=e("../core").Montage,i=e("./model-group").ModelGroup,c=e("./object-descriptor"),n=e("../deprecate"),s=null,u=t.Model=o.specialize({constructor:{value:function(){return this._name=null,this.modelModuleId=null,this.isDefault=!1,this._objectDescriptorForPrototypeTable={},this}},initWithNameAndRequire:{value:function(e,t){if(!e)throw new Error("name is required");if(!t)throw new Error("require is required");return this._name=e,this._require=t,u.group.addModel(this),this}},serializeSelf:{value:function(e){e.setProperty("name",this.name),this.objectDescriptors.length>0&&e.setProperty("objectDescriptors",this.objectDescriptors),e.setProperty("objectModelModuleId",this.modelInstanceModuleId)}},deserializeSelf:{value:function(e){this._name=e.getProperty("name");var t=e.getProperty("objectDescriptors")||e.getProperty("blueprints");t&&(this._objectDescriptors=t),this.modelInstanceModuleId=e.getProperty("objectModelModuleId")||e.getProperty("binderModuleId")}},_name:{value:null},name:{get:function(){return this._name}},_require:{value:null},require:{get:function(){return this._require}},_objectDescriptorForPrototypeTable:{value:null},identifier:{get:function(){return["objectModel",this.name.toLowerCase()].join("_")}},modelInstanceModuleId:{serializable:!1,value:null},isDefault:{serializable:!1,value:!1},_objectDescriptors:{value:null},objectDescriptors:{get:function(){return this._objectDescriptors||(this._objectDescriptors=[])}},addObjectDescriptor:{value:function(e){if(null!==e){var t=this.objectDescriptors.indexOf(e);t<0&&(null!==e.model&&e.model!==this&&e.model.removeObjectDescriptor(e),this.objectDescriptors.push(e),e.model=this)}return e}},removeObjectDescriptor:{value:function(e){if(null!==e){var t=this.objectDescriptors.indexOf(e);t>=0&&(this.objectDescriptors.splice(t,1),e.model=null)}return e}},addObjectDescriptorNamed:{value:function(e){return this.addObjectDescriptor((new c.ObjectDescriptor).initWithName(e))}},objectDescriptorForPrototype:{value:n.deprecateMethod(void 0,function(e){return this.objectDescriptorForName(e)},"objectDescriptorForPrototype","objectDescriptorForName")},objectDescriptorForName:{value:function(e){for(var t=this.objectDescriptors,r=null,o=t.length,i=0;i<o&&!r;i++)t[i].name===e&&(r=t[i]);return r}},_objectDescriptorObjectProperty:{value:null},ObjectProperty:{get:function(){return this._objectDescriptorObjectProperty||(this._objectDescriptorObjectProperty=u.group.defaultObjectDescriptorObjectProperty),this._objectDescriptorObjectProperty}},objectDescriptorModuleId:e("../core")._objectDescriptorModuleIdDescriptor,objectDescriptor:e("../core")._objectDescriptorDescriptor,blueprints:{get:n.deprecateMethod(void 0,function(){return this.objectDescriptors},"blueprints","objectDescriptors")},addBlueprint:{value:n.deprecateMethod(void 0,function(e){return this.addObjectDescriptor(e)},"addBlueprint","addObjectDescriptor")},removeBlueprint:{value:n.deprecateMethod(void 0,function(e){return this.removeObjectDescriptor(e)},"removeBlueprint","removeObjectDescriptor")},addBlueprintNamed:{value:n.deprecateMethod(void 0,function(e){return this.addObjectDescriptorNamed(e)},"addBlueprintNamed","addObjectDescriptorNamed")},blueprintForPrototype:{value:n.deprecateMethod(void 0,function(e){return this.blueprintForName(e)},"blueprintForPrototype","blueprintForName")},blueprintForName:{value:n.deprecateMethod(void 0,function(e){return this.objectDescriptorForName(e)},"blueprintForName","objectDescriptorForName")},blueprintModuleId:e("../core")._objectDescriptorModuleIdDescriptor,blueprint:e("../core")._objectDescriptorDescriptor},{group:{get:function(){return null===s&&(s=new i),s}},manager:{get:n.deprecateMethod(void 0,function(){return t.Model.group},"Binder.manager","Model.group")}})}});